#include <iostream>

using namespace std;

void BubbleSort (auto tabb[] , unsigned int nb, auto tabb2[], auto tabb3[], string tabb4[])
{
    for(unsigned int i=nb-1; i>0; i--)
    {
    for(unsigned int j=0; j<i; j++)
    {
    if (tabb[j]<tabb[j+1])
    {
    swap (tabb[j], tabb[j+1]);
    swap (tabb2[j], tabb2[j+1]);
    swap (tabb3[j], tabb3[j+1]);
    swap (tabb4[j], tabb4[j+1]);
    }
    }
    }
}

int main()
{
    std::ios::sync_with_stdio(false);
    unsigned int n;
    cin>>n;
    string napis, napis2;
    string kolejnosc;
    string tabSC[n];
    string tabSD[n];
    int tabIC[n];
    int tabID[n];
    int tabI2C[n];
    int tabI2D[n];
    double tabDC[n];
    double tabDD[n];
    double s, s2;
    int d, d2, m, m2;
    cin.ignore(100,'\n');
    getline(cin, kolejnosc);
    for(int i=0; i<n; i++)
    {
        cin>>napis;
        tabSC[i]=napis;
        cin>>s;
        tabDC[i]=s;
        cin>>d;
        cin>>m;
        tabIC[i]=d;
        tabI2C[i]=m;
        cin>>napis2;
        tabSD[i]=napis2;
        cin>>s2;
        tabDD[i]=s2;
        cin>>d2;
        cin>>m2;
        tabID[i]=d2;
        tabI2D[i]=m2;
    }
    if(kolejnosc=="s d m")
    {
        BubbleSort(tabDC, n, tabIC, tabI2C, tabSC);
        for(int i=n-1; i>0; i--)
            {
                if(tabDC[i]==tabDC[i-1] && i-1>=0)
                {
                    BubbleSort(tabIC, i, tabI2C, tabDC, tabSC);
                    for(int j=i; j>0; j--)
                    {
                        if(tabIC[j]==tabIC[j-1] && j-1>=0)
                        {
                            BubbleSort(tabI2C, j, tabDC, tabIC, tabSC);
                        }
                    }
                }
                else if(tabIC[i]==tabIC[i-1] && i-1>=0)
                {
                    BubbleSort(tabI2C, i, tabDC, tabIC, tabSC);
                }
            }
        BubbleSort(tabDD, n, tabID, tabI2D, tabSD);
        for(int i=n-1; i>0; i--)
            {
                if(tabDD[i]==tabDD[i-1] && i-1>=0)
                {
                    BubbleSort(tabID, i, tabI2D, tabDD, tabSD);
                    for(int j=i; j>0; j--)
                    {
                        if(tabID[j]==tabID[j-1] && j-1>=0)
                        {
                            BubbleSort(tabI2D, j, tabDD, tabID, tabSD);
                        }
                    }
                }
                else if(tabID[i]==tabID[i-1] && i-1>=0)
                {
                    BubbleSort(tabI2D, i, tabDD, tabID, tabSD);
                }
            }
    }
    if(kolejnosc=="s m d")
    {
        BubbleSort(tabDC, n, tabIC, tabI2C, tabSC);
            for(int i=n-1; i>0; i--)
            {
                if(tabDC[i]==tabDC[i-1] && i-1>=0)
                {
                    BubbleSort(tabI2C, i, tabI2C, tabDC, tabSC);
                    for(int j=i; j>0; j--)
                    {
                        if(tabI2C[j]==tabI2C[j-1] && j-1>=0)
                        {
                            BubbleSort(tabIC, j, tabDC, tabI2C, tabSC);
                        }
                    }
                }
                else if(tabI2C[i]==tabI2C[i-1] && i-1>=0)
                {
                    BubbleSort(tabIC, i, tabDC, tabI2C, tabSC);
                }
            }
        BubbleSort(tabDD, n, tabID, tabI2D, tabSD);
        for(int i=n-1; i>0; i--)
            {
                if(tabDD[i]==tabDD[i-1] && i-1>=0)
                {
                    BubbleSort(tabI2D, i, tabID, tabDD, tabSD);
                    for(int j=i; j>0; j--)
                    {
                        if(tabI2D[j]==tabI2D[j-1] && j-1>=0)
                        {
                            BubbleSort(tabID, j, tabDD, tabI2D, tabSD);
                        }
                    }
                }
                else if(tabI2D[i]==tabI2D[i-1] && i-1>=0)
                {
                    BubbleSort(tabID, i, tabDD, tabI2D, tabSD);
                }
            }
    }
    if(kolejnosc=="d s m")
    {
        BubbleSort(tabIC, n, tabDC, tabI2C, tabSC);
        for(int i=n-1; i>0; i--)
            {
                if(tabIC[i]==tabIC[i-1] && i-1>=0)
                {
                    BubbleSort(tabDC, i, tabI2C, tabIC, tabSC);
                    for(int j=i; j>0; j--)
                    {
                        if(tabDC[j]==tabDC[j-1] && j-1>=0)
                        {
                            BubbleSort(tabI2C, j, tabIC, tabDC, tabSC);
                        }
                    }
                }
                else if(tabDC[i]==tabDC[i-1] && i-1>=0)
                    {
                            BubbleSort(tabI2C, i, tabIC, tabDC, tabSC);
                    }
            }
        BubbleSort(tabID, n, tabDD, tabI2D, tabSD);
        for(int i=n-1; i>0; i--)
            {
                if(tabID[i]==tabID[i-1] && i-1>=0)
                {
                    BubbleSort(tabDD, i, tabI2D, tabID, tabSD);
                    for(int j=i; j>0; j--)
                    {
                        if(tabDD[j]==tabDD[j-1] && j-1>=0)
                        {
                            BubbleSort(tabI2D, j, tabID, tabDD, tabSD);
                        }
                    }
                }
                else if(tabDD[i]==tabDD[i-1] && i-1>=0)
                {
                    BubbleSort(tabI2D, i, tabID, tabDD, tabSD);
                }
            }
    }
    if(kolejnosc=="d m s")
    {
        BubbleSort(tabIC, n, tabDC, tabI2C, tabSC);
        for(int i=n-1; i>0; i--)
            {
                if(tabIC[i]==tabIC[i-1] && i-1>=0)
                {
                    BubbleSort(tabI2C, i, tabDC, tabIC, tabSC);
                    for(int j=i; j>0; j--)
                    {
                        if(tabI2C[j]==tabI2C[j-1] && j-1>=0)
                        {
                            BubbleSort(tabDC, j, tabIC, tabI2C, tabSC);
                        }
                    }
                }
                else if(tabI2C[i]==tabI2C[i-1] && i-1>=0)
                {
                    BubbleSort(tabDC, i, tabIC, tabI2C, tabSC);
                }
            }
        BubbleSort(tabID, n, tabDD, tabI2D, tabSD);
        for(int i=n-1; i>0; i--)
            {
                if(tabID[i]==tabID[i-1] && i-1>=0)
                {
                    BubbleSort(tabI2D, i, tabDD, tabID, tabSD);
                    for(int j=i; j>0; j--)
                    {
                        if(tabI2D[j]==tabI2D[j-1] && j-1>=0)
                        {
                            BubbleSort(tabDD, j, tabID, tabI2D, tabSD);
                        }
                    }
                }
                else if(tabI2D[i]==tabI2D[i-1] && i-1>=0)
                    {
                            BubbleSort(tabDD, i, tabID, tabI2D, tabSD);
                    }
            }
    }
    if(kolejnosc=="m s d")
    {
        BubbleSort(tabI2C, n, tabIC, tabDC, tabSC);
        for(int i=n-1; i>0; i--)
            {
                if(tabI2C[i]==tabI2C[i-1] && i-1>=0)
                {
                    BubbleSort(tabIC, i, tabDC, tabI2C, tabSC);
                    for(int j=i; j>0; j--)
                    {
                        if(tabIC[j]==tabIC[j-1] && j-1>=0)
                        {
                            BubbleSort(tabDC, j, tabI2C, tabIC, tabSC);
                        }
                    }

                }
                else if(tabIC[i]==tabIC[i-1] && i-1>=0)
                        {
                            BubbleSort(tabDC, i, tabI2C, tabIC, tabSC);
                        }
            }
        BubbleSort(tabI2D, n, tabID, tabDD, tabSD);

        for(int i=n-1; i>0; i--)
            {
                if(tabI2D[i]==tabI2D[i-1] && i-1>=0)
                {
                    BubbleSort(tabID, i, tabDD, tabI2D, tabSD);
                    for(int j=i; j>0; j--)
                    {
                        if(tabID[j]==tabID[j-1] && j-1>=0)
                        {
                            BubbleSort(tabDD, j, tabI2D, tabID, tabSD);
                        }
                    }
                }
                else if(tabID[i]==tabID[i-1] && i-1>=0)
                {
                    BubbleSort(tabDD, i, tabI2D, tabID, tabSD);
                }
            }
    }
    if(kolejnosc=="m d s")
    {
        BubbleSort(tabI2C, n, tabIC, tabDC, tabSC);
        for(int i=n-1; i>0; i--)
            {
                if(tabI2C[i]==tabI2C[i-1] && i-1>=0)
                {
                    BubbleSort(tabDC, i, tabIC, tabI2C, tabSC);
                    for(int j=i; j>0; j--)
                    {
                        if(tabDC[j]==tabDC[j-1] && j-1>=0)
                        {
                            BubbleSort(tabIC, j, tabI2C, tabDC, tabSC);
                        }
                    }
                }
                else if(tabDC[i]==tabDC[i-1] && i-1>=0)
                {
                    BubbleSort(tabIC, i, tabI2C, tabDC, tabSC);
                }
            }
        BubbleSort(tabI2D, n, tabID, tabDD, tabSD);
        for(int i=n-1; i>0; i--)
            {
                if(tabI2D[i]==tabI2D[i-1] && i-1>=0)
                {
                    BubbleSort(tabDD, i, tabID, tabI2D, tabSD);
                    for(int j=i; j>0; j--)
                    {
                        if(tabDD[j]==tabDD[j-1] && j-1>=0)
                        {
                            BubbleSort(tabID, j, tabI2D, tabDD, tabSD);
                        }
                    }
                }
                else if(tabDD[i]==tabDD[i-1] && i-1>=0)
                {
                    BubbleSort(tabID, i, tabI2D, tabDD, tabSD);
                }
            }
    }
    for(int i=0; i<n; i++)
    {
        cout<<tabSC[i];
        cout<<" ";
        cout<<tabSD[i];
        if(i!=n-1)
            cout<<" ";
    }
    return 0;
}
